<% content_for :full_width, '1' %>
<% content_for :title,       t("seo.resume.title") %>
<% content_for :description, t("seo.resume.description") %>

<div class="page-banner">
  <div class="w-full px-4 md:px-8 py-10">
    <div class="flex flex-col sm:flex-row items-center sm:items-start gap-8">

      <div class="flex-shrink-0">
        <%= image_tag "avatar.png",
              class: "w-24 h-24 rounded-full object-cover resume-avatar",
              alt: "Christof Van Berendonck" %>
      </div>

      <div class="text-center sm:text-left flex-1">
        <span class="cyber-eyebrow">Curriculum Vitae</span>
        <h1 class="text-3xl font-black text-white uppercase tracking-tight leading-tight">
          Christof Van Berendonck
        </h1>
        <p class="text-sm font-semibold uppercase tracking-widest mt-1 text-accent">
          <%= t("resume.job_title") %>
        </p>

        <div class="flex flex-wrap justify-center sm:justify-start gap-x-6 gap-y-2 mt-4 text-xs text-muted">
          <a href="tel:+33787399179" class="flex items-center gap-1.5 transition-colors hover:text-white">
            <i class="fa-solid fa-phone fa-xs text-accent"></i> +33 7 87 39 91 79
          </a>
          <a href="mailto:Christof.vanberendonck@hotmail.com" class="flex items-center gap-1.5 transition-colors hover:text-white">
            <i class="fa-solid fa-envelope fa-xs text-accent"></i>
            <span class="hidden sm:inline">Christof.vanberendonck@hotmail.com</span>
            <span class="sm:hidden">Email</span>
          </a>
          <a href="https://fr.linkedin.com/in/christof-van-berendonck-727463b6" target="_blank" class="flex items-center gap-1.5 transition-colors hover:text-white">
            <i class="fa-brands fa-linkedin fa-xs text-accent"></i> LinkedIn
          </a>
        </div>
      </div>

      <div class="flex-shrink-0 flex items-center">
        <a href="/CV_CVB_DEV_FULLSTACK.pdf" download class="cyber-btn-primary">
          <i class="fa-solid fa-file-arrow-down fa-sm"></i> <%= t("resume.download") %>
        </a>
      </div>

    </div>
  </div>
</div>

<div class="w-full px-4 md:px-8 py-10 pb-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-[5fr_7fr] gap-6 md:gap-8">

  <div class="flex flex-col gap-6">

    <div class="resume-panel">
      <span class="cyber-eyebrow"><%= t("resume.tech_stack") %></span>
      <h2 class="text-sm font-bold text-white uppercase tracking-widest mb-5"><%= t("resume.skills_section") %></h2>
      <%= render "pages/resume_details/skills" %>
    </div>

    <div class="resume-panel">
      <span class="cyber-eyebrow"><%= t("resume.communication") %></span>
      <h2 class="text-sm font-bold text-white uppercase tracking-widest mb-5"><%= t("resume.languages_spoken") %></h2>
      <%= render "pages/resume_details/language" %>
    </div>

    <div class="resume-panel flex-1 flex flex-col">
      <span class="cyber-eyebrow"><%= t("resume.algorithms") %></span>
      <h2 class="text-sm font-bold text-white uppercase tracking-widest mb-5">Codewars</h2>

      <% if @codewars_profile.present? %>
        <div class="codewars-card w-full">
          <img
            src="https://www.codewars.com/users/Christofvb/badges/large"
            alt="Codewars Badge"
            class="codewars-card__image">

          <div class="codewars-card__body">
            <div class="codewars-stats">
              <div class="codewars-stat">
                <p class="codewars-stat__value"><%= @codewars_profile["honor"] %></p>
                <p class="codewars-stat__label">Honor</p>
              </div>
              <div class="codewars-stat">
                <p class="codewars-stat__value"><%= @codewars_profile.dig("ranks", "overall", "score") %></p>
                <p class="codewars-stat__label">Score</p>
              </div>
              <div class="codewars-stat">
                <p class="codewars-stat__value"><%= @codewars_profile.dig("codeChallenges", "totalCompleted") %></p>
                <p class="codewars-stat__label">Solved</p>
              </div>
            </div>

            <div class="codewars-langs">
              <% @codewars_profile.dig("ranks", "languages")&.each do |lang, data| %>
                <% color_class = "cw-#{data["color"]}" rescue "cw-white" %>
                <span class="codewars-lang <%= color_class %>">
                  <%= lang.capitalize %> Â· <%= data["name"] %>
                </span>
              <% end %>
            </div>
          </div>
        </div>
      <% else %>
        <p class="text-sm text-muted"><%= t("resume.codewars_unavailable") %></p>
      <% end %>
    </div>
  </div>

  <div class="flex flex-col gap-6">

    <div class="resume-panel">
      <span class="cyber-eyebrow"><%= t("resume.experience_section") %></span>
      <h2 class="text-sm font-bold text-white uppercase tracking-widest mb-7"><%= t("resume.experience_title") %></h2>
      <%= render "pages/resume_details/experience" %>
    </div>

    <div class="resume-panel flex-1">
      <span class="cyber-eyebrow"><%= t("resume.education_section") %></span>
      <h2 class="text-sm font-bold text-white uppercase tracking-widest mb-7"><%= t("resume.education_title") %></h2>
      <%= render "pages/resume_details/education" %>
    </div>

  </div>

</div>
